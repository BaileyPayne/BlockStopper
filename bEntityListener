
package me.baileypayne.blockStopper;

import java.util.Iterator;
import org.bukkit.block.Block;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.entity.EntityExplodeEvent;

/**
 *
 * @author Bailey
 */
class bEntityListener implements Listener {
    public bEntityListener(blockStopper blockStopper) {
		plugin = blockStopper;
		plugin.getServer().getPluginManager().registerEvents(this, plugin);
	}

	private blockStopper plugin;

	@EventHandler
	public void onEntityExplode(EntityExplodeEvent event) {
		Iterator<Block> it = event.blockList().iterator();
		while (it.hasNext()) {
			if (plugin.getConfig().getIntegerList("Break.bannedBlocks").contains(it.next().getTypeId()))
				it.remove();

		}
	}
}

